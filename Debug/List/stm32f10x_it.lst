###############################################################################
#
# IAR ANSI C/C++ Compiler V8.22.1.15669/W32 for ARM       20/Dec/2025  16:36:58
# Copyright 1999-2018 IAR Systems AB.
#
#    Cpu mode     =  thumb
#    Endian       =  little
#    Source file  =  
#        C:\Users\pnu3\Desktop\deskproject\Embedded_System_TermProject\user\stm32f10x_it.c
#    Command line =  
#        -f C:\Users\pnu3\AppData\Local\Temp\EWA0B6.tmp
#        (C:\Users\pnu3\Desktop\deskproject\Embedded_System_TermProject\user\stm32f10x_it.c
#        -D USE_STDPERIPH_DRIVER -D STM32F10X_CL -lC
#        C:\Users\pnu3\Desktop\deskproject\Embedded_System_TermProject\Debug\List
#        -o
#        C:\Users\pnu3\Desktop\deskproject\Embedded_System_TermProject\Debug\Obj
#        --no_cse --no_unroll --no_inline --no_code_motion --no_tbaa
#        --no_clustering --no_scheduling --debug --endian=little
#        --cpu=Cortex-M3 -e --fpu=None --dlib_config "C:\Program Files
#        (x86)\IAR Systems\Embedded Workbench
#        8.0\arm\INC\c\DLib_Config_Normal.h" -I
#        C:\Users\pnu3\Desktop\deskproject\Embedded_System_TermProject\libraries\CMSIS\DeviceSupport\
#        -I
#        C:\Users\pnu3\Desktop\deskproject\Embedded_System_TermProject\libraries\CMSIS\DeviceSupport\Startup\
#        -I
#        C:\Users\pnu3\Desktop\deskproject\Embedded_System_TermProject\libraries\STM32F10x_StdPeriph_Driver_v3.5\inc\
#        -I
#        C:\Users\pnu3\Desktop\deskproject\Embedded_System_TermProject\libraries\STM32F10x_StdPeriph_Driver_v3.5\src\
#        -I C:\Users\pnu3\Desktop\deskproject\Embedded_System_TermProject\user\
#        -I
#        C:\Users\pnu3\Desktop\deskproject\Embedded_System_TermProject\user\inc\
#        -I
#        C:\Users\pnu3\Desktop\deskproject\Embedded_System_TermProject\libraries\LCD\
#        -I
#        C:\Users\pnu3\Desktop\deskproject\Embedded_System_TermProject\Micrium\Software\uC-CPU\
#        -I
#        C:\Users\pnu3\Desktop\deskproject\Embedded_System_TermProject\Micrium\Software\uC-CPU\ARM-Cortex-M\ARMv7-M\IAR\
#        -I
#        C:\Users\pnu3\Desktop\deskproject\Embedded_System_TermProject\Micrium\Software\uCOS-III\Source\
#        -I
#        C:\Users\pnu3\Desktop\deskproject\Embedded_System_TermProject\Micrium\Software\uCOS-III\Ports\ARM-Cortex-M\ARMv7-M\IAR\
#        -I
#        C:\Users\pnu3\Desktop\deskproject\Embedded_System_TermProject\user\uCOS-III\
#        -I
#        C:\Users\pnu3\Desktop\deskproject\Embedded_System_TermProject\Micrium\Software\uC-LIB\
#        -Ol -I "C:\Program Files (x86)\IAR Systems\Embedded Workbench
#        8.0\arm\CMSIS\Core\Include\" -I "C:\Program Files (x86)\IAR
#        Systems\Embedded Workbench 8.0\arm\CMSIS\DSP\Include\")
#    Locale       =  C
#    List file    =  
#        C:\Users\pnu3\Desktop\deskproject\Embedded_System_TermProject\Debug\List\stm32f10x_it.lst
#    Object file  =  
#        C:\Users\pnu3\Desktop\deskproject\Embedded_System_TermProject\Debug\Obj\stm32f10x_it.o
#
###############################################################################

C:\Users\pnu3\Desktop\deskproject\Embedded_System_TermProject\user\stm32f10x_it.c
      1          /**
      2            ******************************************************************************
      3            * @file    Project/STM32F10x_StdPeriph_Template/stm32f10x_it.c 
      4            * @author  MCD Application Team
      5            * @version V3.5.0
      6            * @date    08-April-2011
      7            * @brief   Main Interrupt Service Routines.
      8            ******************************************************************************
      9            */
     10          
     11          /* Includes ------------------------------------------------------------------*/
     12          #include <includes.h>
     13          
     14          // =======================================================
     15          // [RTOS ?@@] @C/OS-III @€???@? ?@@ (main.c???@@?@@ ?@@)
     16          // =======================================================
     17          // #include "os.h" // includes.h???@@?
     18          extern OS_Q   PirDataQ;    // ?@@ ?@@ ?@@?@? Status_Task@??@@ (MSG_TOUCH_RESET_CODE)
     19          extern OS_Q   BluetoothRxQ; // ?@@??@@@?@@ ?@@?@? Bluetooth_Task@??@@
     20          extern const uint8_t MSG_TOUCH_RESET_CODE; // main.c???@@@?extern ?@@
     21          
     22          /* Private typedef -----------------------------------------------------------*/
     23          /* Private define ------------------------------------------------------------*/
     24          /* Private macro -------------------------------------------------------------*/
     25          /* Private variables ---------------------------------------------------------*/
     26          /* Private function prototypes -----------------------------------------------*/
     27          /* Private functions ---------------------------------------------------------*/
     28          
     29          /******************************************************************************/
     30          /* Cortex-M3 Processor Exceptions Handlers                             */
     31          /******************************************************************************/
     32          
     33          /**
     34            * @brief  This function handles NMI exception.
     35            */

   \                                 In section .text, align 2, keep-with-next
     36          void NMI_Handler(void)
     37          {
     38          }
   \                     NMI_Handler: (+1)
   \   00000000   0x4770             BX       LR               ;; return
     39          
     40          /**
     41            * @brief  This function handles Hard Fault exception.
     42            */

   \                                 In section .text, align 2, keep-with-next
     43          void HardFault_Handler(void)
     44          {
     45            /* Go to infinite loop when Hard Fault exception occurs */
     46            while (1)
   \                     HardFault_Handler: (+1)
   \                     ??HardFault_Handler_0: (+1)
   \   00000000   0xE7FE             B.N      ??HardFault_Handler_0
     47            {
     48            }
     49          }
     50          
     51          /**
     52            * @brief  This function handles Memory Manage exception.
     53            */

   \                                 In section .text, align 2, keep-with-next
     54          void MemManage_Handler(void)
     55          {
     56            /* Go to infinite loop when Memory Manage exception occurs */
     57            while (1)
   \                     MemManage_Handler: (+1)
   \                     ??MemManage_Handler_0: (+1)
   \   00000000   0xE7FE             B.N      ??MemManage_Handler_0
     58            {
     59            }
     60          }
     61          
     62          /**
     63            * @brief  This function handles Bus Fault exception.
     64            */

   \                                 In section .text, align 2, keep-with-next
     65          void BusFault_Handler(void)
     66          {
     67            /* Go to infinite loop when Bus Fault exception occurs */
     68            while (1)
   \                     BusFault_Handler: (+1)
   \                     ??BusFault_Handler_0: (+1)
   \   00000000   0xE7FE             B.N      ??BusFault_Handler_0
     69            {
     70            }
     71          }
     72          
     73          /**
     74            * @brief  This function handles Usage Fault exception.
     75            */

   \                                 In section .text, align 2, keep-with-next
     76          void UsageFault_Handler(void)
     77          {
     78            /* Go to infinite loop when Usage Fault exception occurs */
     79            while (1)
   \                     UsageFault_Handler: (+1)
   \                     ??UsageFault_Handler_0: (+1)
   \   00000000   0xE7FE             B.N      ??UsageFault_Handler_0
     80            {
     81            }
     82          }
     83          
     84          /**
     85            * @brief  This function handles SVCall exception.
     86            */

   \                                 In section .text, align 2, keep-with-next
     87          void SVC_Handler(void)
     88          {
     89          }
   \                     SVC_Handler: (+1)
   \   00000000   0x4770             BX       LR               ;; return
     90          
     91          /**
     92            * @brief  This function handles Debug Monitor exception.
     93            */

   \                                 In section .text, align 2, keep-with-next
     94          void DebugMon_Handler(void)
     95          {
     96          }
   \                     DebugMon_Handler: (+1)
   \   00000000   0x4770             BX       LR               ;; return
     97          
     98          /**
     99            * @brief  This function handles PendSVC exception.
    100            */

   \                                 In section .text, align 2, keep-with-next
    101          void PendSV_Handler(void)
    102          {
   \                     PendSV_Handler: (+1)
   \   00000000   0xB580             PUSH     {R7,LR}
    103              // @C/OS-III??@@@?@@ ?@@@??@@?
    104              OS_CPU_PendSVHandler(); 
   \   00000002   0x.... 0x....      BL       OS_CPU_PendSVHandler
    105          }
   \   00000006   0xBD01             POP      {R0,PC}          ;; return
    106          
    107          /**
    108            * @brief  This function handles SysTick Handler.
    109            */

   \                                 In section .text, align 2, keep-with-next
    110          void SysTick_Handler(void)
    111          {
   \                     SysTick_Handler: (+1)
   \   00000000   0xB580             PUSH     {R7,LR}
    112              // @C/OS-III???@@?????@@?
    113              OS_CPU_SysTickHandler(); 
   \   00000002   0x.... 0x....      BL       OS_CPU_SysTickHandler
    114          }
   \   00000006   0xBD01             POP      {R0,PC}          ;; return
    115          
    116          /******************************************************************************/
    117          /* STM32F10x Peripherals Interrupt Handlers                          */
    118          /******************************************************************************/
    119          
    120          /**
    121            * @brief  This function handles EXTI Line 1 interrupt request (Touch Sensor: PA.1).
    122            * (5?@@: ?@@ ?@@ - Status_Task??@@@ @@@ ?@@)
    123            */

   \                                 In section .text, align 2, keep-with-next
    124          void EXTI1_IRQHandler(void)
    125          {
   \                     EXTI1_IRQHandler: (+1)
   \   00000000   0xB5E0             PUSH     {R5-R7,LR}
    126              OS_ERR err;
    127              uint8_t touch_code = MSG_TOUCH_RESET_CODE; // 255 @
   \   00000002   0x....             LDR.N    R0,??DataTable3
   \   00000004   0x7800             LDRB     R0,[R0, #+0]
   \   00000006   0xF88D 0x0004      STRB     R0,[SP, #+4]
    128          
    129              if (EXTI_GetITStatus(EXTI_Line1) != RESET)
   \   0000000A   0x2002             MOVS     R0,#+2
   \   0000000C   0x.... 0x....      BL       EXTI_GetITStatus
   \   00000010   0x2800             CMP      R0,#+0
   \   00000012   0xD00B             BEQ.N    ??EXTI1_IRQHandler_0
    130              {
    131                  // 1. Touch_ISR ??@: Status_Task??"@@@ @@@" @@@@€@?@@@.
    132                  // PIR ?@@???@@ ?@@ @@@@??@@ Status_Task@?@@@?@@.
    133                  
    134                  // ?@@?@@ @@@ ??OS ?@@@??@@???@@ @@@???@@ ?@@(Critical Section) @@@ @@@ ?@@
    135                   OSQPost(&PirDataQ, &touch_code, sizeof(touch_code), OS_OPT_POST_FIFO, &err); 
   \   00000014   0xF10D 0x0006      ADD      R0,SP,#+6
   \   00000018   0x9000             STR      R0,[SP, #+0]
   \   0000001A   0x2300             MOVS     R3,#+0
   \   0000001C   0x2201             MOVS     R2,#+1
   \   0000001E   0xA901             ADD      R1,SP,#+4
   \   00000020   0x....             LDR.N    R0,??DataTable3_1
   \   00000022   0x.... 0x....      BL       OSQPost
    136                  
    137                  // *[RTOS @@@?????@@@@@]*
    138                  // GPIO_WriteBit(GPIOC, GPIO_Pin_9, (BitAction)(1 - GPIO_ReadOutputDataBit(GPIOC, GPIO_Pin_9)));
    139          
    140                  // 2. ?@@?@@ ?@@ @@@ ?@@?
    141                  EXTI_ClearITPendingBit(EXTI_Line1);
   \   00000026   0x2002             MOVS     R0,#+2
   \   00000028   0x.... 0x....      BL       EXTI_ClearITPendingBit
    142              }
    143          }
   \                     ??EXTI1_IRQHandler_0: (+1)
   \   0000002C   0xBD07             POP      {R0-R2,PC}       ;; return
    144          
    145          
    146          /**
    147            * @brief  This function handles USART2 global interrupt request (Bluetooth RX).
    148            * (?@@ ?@@ @@@ ?@@??
    149            */
    150          /**
    151            * @brief  This function handles USART1 global interrupt request (PC Communication).
    152            * (PC?@@ ?@@???@@?@? @@@?@@@??@@ - Echo)
    153            */

   \                                 In section .text, align 2, keep-with-next
    154          void USART1_IRQHandler(void)
    155          {
   \                     USART1_IRQHandler: (+1)
   \   00000000   0xB580             PUSH     {R7,LR}
    156              uint16_t word;
    157              if (USART_GetITStatus(USART1, USART_IT_RXNE) != RESET) {
   \   00000002   0xF240 0x5125      MOVW     R1,#+1317
   \   00000006   0x....             LDR.N    R0,??DataTable3_2  ;; 0x40013800
   \   00000008   0x.... 0x....      BL       USART_GetITStatus
   \   0000000C   0x2800             CMP      R0,#+0
   \   0000000E   0xD010             BEQ.N    ??USART1_IRQHandler_0
    158                  /* ?@@???@@???@@ */
    159                  word = USART_ReceiveData(USART1);       
   \   00000010   0x....             LDR.N    R0,??DataTable3_2  ;; 0x40013800
   \   00000012   0x.... 0x....      BL       USART_ReceiveData
   \   00000016   0x0001             MOVS     R1,R0
    160          
    161                  /* ?@@ @@@@€ @@@@??@@@€ ?€@?*/    
    162                  while ((USART2->SR & USART_SR_TXE) == 0);
   \                     ??USART1_IRQHandler_1: (+1)
   \   00000018   0x....             LDR.N    R0,??DataTable3_3  ;; 0x40004400
   \   0000001A   0x8800             LDRH     R0,[R0, #+0]
   \   0000001C   0x0600             LSLS     R0,R0,#+24
   \   0000001E   0xD5FB             BPL.N    ??USART1_IRQHandler_1
    163          
    164                  /* @@@?@@@??@@ */
    165                  USART_SendData(USART2, word);
   \   00000020   0xB289             UXTH     R1,R1            ;; ZeroExt  R1,R1,#+16,#+16
   \   00000022   0x....             LDR.N    R0,??DataTable3_3  ;; 0x40004400
   \   00000024   0x.... 0x....      BL       USART_SendData
    166          
    167                  /* RX ?@@?@@ ?@@@??@@??*/
    168                  USART_ClearITPendingBit(USART1, USART_IT_RXNE);
   \   00000028   0xF240 0x5125      MOVW     R1,#+1317
   \   0000002C   0x....             LDR.N    R0,??DataTable3_2  ;; 0x40013800
   \   0000002E   0x.... 0x....      BL       USART_ClearITPendingBit
    169              }
    170          }
   \                     ??USART1_IRQHandler_0: (+1)
   \   00000032   0xBD01             POP      {R0,PC}          ;; return
    171          
    172          /**
    173            * @brief  This function handles USART2 global interrupt request (Bluetooth RX).
    174            * (?@@ ?@@ @@@ ?@@??+ PC Echo)
    175            */

   \                                 In section .text, align 2, keep-with-next
    176          void USART2_IRQHandler(void)
    177          {
   \                     USART2_IRQHandler: (+1)
   \   00000000   0xB5E0             PUSH     {R5-R7,LR}
    178              OS_ERR err;
    179              uint8_t rx_data;
    180              
    181              // ?@@ @@@@€ @@@?@? ?@@ ?@@ (?@@???@@)
    182              if (USART_GetITStatus(USART2, USART_IT_RXNE) != RESET)
   \   00000002   0xF240 0x5125      MOVW     R1,#+1317
   \   00000006   0x....             LDR.N    R0,??DataTable3_3  ;; 0x40004400
   \   00000008   0x.... 0x....      BL       USART_GetITStatus
   \   0000000C   0x2800             CMP      R0,#+0
   \   0000000E   0xD01C             BEQ.N    ??USART2_IRQHandler_0
    183              {
    184                  // 1. ?@@???@@
    185                  rx_data = (uint8_t)USART_ReceiveData(USART2);
   \   00000010   0x....             LDR.N    R0,??DataTable3_3  ;; 0x40004400
   \   00000012   0x.... 0x....      BL       USART_ReceiveData
   \   00000016   0xF88D 0x0004      STRB     R0,[SP, #+4]
    186          
    187                  // [Reference Logic] PC@??@@ ?@@
    188                  while ((USART1->SR & USART_SR_TXE) == 0);
   \                     ??USART2_IRQHandler_1: (+1)
   \   0000001A   0x....             LDR.N    R0,??DataTable3_2  ;; 0x40013800
   \   0000001C   0x8800             LDRH     R0,[R0, #+0]
   \   0000001E   0x0600             LSLS     R0,R0,#+24
   \   00000020   0xD5FB             BPL.N    ??USART2_IRQHandler_1
    189                  USART_SendData(USART1, rx_data);
   \   00000022   0xF89D 0x1004      LDRB     R1,[SP, #+4]
   \   00000026   0xB289             UXTH     R1,R1            ;; ZeroExt  R1,R1,#+16,#+16
   \   00000028   0x....             LDR.N    R0,??DataTable3_2  ;; 0x40013800
   \   0000002A   0x.... 0x....      BL       USART_SendData
    190          
    191                  // 2. ?@@???@@?@? Bluetooth_Task???@@ ?@@ (@@@@?@@@)
    192                   OSQPost(&BluetoothRxQ, &rx_data, sizeof(rx_data), OS_OPT_POST_FIFO, &err);
   \   0000002E   0xF10D 0x0006      ADD      R0,SP,#+6
   \   00000032   0x9000             STR      R0,[SP, #+0]
   \   00000034   0x2300             MOVS     R3,#+0
   \   00000036   0x2201             MOVS     R2,#+1
   \   00000038   0xA901             ADD      R1,SP,#+4
   \   0000003A   0x....             LDR.N    R0,??DataTable3_4
   \   0000003C   0x.... 0x....      BL       OSQPost
    193                  
    194                  // 3. ?@@?@@ ?@@@??@@?
    195                  USART_ClearITPendingBit(USART2, USART_IT_RXNE);
   \   00000040   0xF240 0x5125      MOVW     R1,#+1317
   \   00000044   0x....             LDR.N    R0,??DataTable3_3  ;; 0x40004400
   \   00000046   0x.... 0x....      BL       USART_ClearITPendingBit
    196              }
    197          }
   \                     ??USART2_IRQHandler_0: (+1)
   \   0000004A   0xBD07             POP      {R0-R2,PC}       ;; return

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3:
   \   00000000   0x........         DC32     MSG_TOUCH_RESET_CODE

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_1:
   \   00000000   0x........         DC32     PirDataQ

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_2:
   \   00000000   0x40013800         DC32     0x40013800

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_3:
   \   00000000   0x40004400         DC32     0x40004400

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_4:
   \   00000000   0x........         DC32     BluetoothRxQ
    198          
    199          
    200          /**
    201            * @brief  This function handles PPP interrupt request.
    202            * @param  None
    203            * @retval None
    204            */
    205          /*void PPP_IRQHandler(void)
    206          {
    207          }*/

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
       0   BusFault_Handler
       0   DebugMon_Handler
      16   EXTI1_IRQHandler
        16   -> EXTI_ClearITPendingBit
        16   -> EXTI_GetITStatus
        16   -> OSQPost
       0   HardFault_Handler
       0   MemManage_Handler
       0   NMI_Handler
       8   PendSV_Handler
         8   -> OS_CPU_PendSVHandler
       0   SVC_Handler
       8   SysTick_Handler
         8   -> OS_CPU_SysTickHandler
       8   USART1_IRQHandler
         8   -> USART_ClearITPendingBit
         8   -> USART_GetITStatus
         8   -> USART_ReceiveData
         8   -> USART_SendData
      16   USART2_IRQHandler
        16   -> OSQPost
        16   -> USART_ClearITPendingBit
        16   -> USART_GetITStatus
        16   -> USART_ReceiveData
        16   -> USART_SendData
       0   UsageFault_Handler


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable3
       4  ??DataTable3_1
       4  ??DataTable3_2
       4  ??DataTable3_3
       4  ??DataTable3_4
       2  BusFault_Handler
       2  DebugMon_Handler
      46  EXTI1_IRQHandler
       2  HardFault_Handler
       2  MemManage_Handler
       2  NMI_Handler
       8  PendSV_Handler
       2  SVC_Handler
       8  SysTick_Handler
      52  USART1_IRQHandler
      76  USART2_IRQHandler
       2  UsageFault_Handler

 
 224 bytes in section .text
 
 224 bytes of CODE memory

Errors: none
Warnings: none
